{"version":3,"file":"static/js/246.a0469e0b.chunk.js","mappings":"4KACO,MAAMA,EAAM,kCAENC,EAAa,KACT,CACbC,QAAS,CACP,eAAgBC,aAAaC,QAAQ,SACrC,8BAA+B,IAC/B,+BAAgC,mD,+GCKtC,MAAMC,EAAS,QACTC,EAAU,CACdC,UAAY,GAAEF,cACdG,QAAU,GAAEH,YACZI,UAAY,GAAEJ,eAGVK,GAAOC,EAAAA,EAAAA,IAAO,MAAPA,EAAc,QAAC,MAAEC,GAAO,QAAM,CACzC,CAAE,KAAIN,EAAQC,aAAc,CAC1BM,OAAQ,WACRC,QAAS,OACTC,aAAc,MACdC,UAAW,yBACXC,gBAAiB,UACjBC,MAAO,QAET,CAAE,KAAIZ,EAAQE,WAAY,CACxBW,UAAW,QAEb,CAAE,KAAIb,EAAQG,aAAc,CAC1BS,MAAO,QAEV,IA0ED,UAvEe,KACb,MAAOE,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,CACjCC,KAAM,GACNC,SAAU,KAoBZ,OAFcrB,aAAaC,QAAQ,UAG1B,SAAC,KAAQ,CAACqB,GAAG,oBAIpB,SAACf,EAAI,CAACgB,UAAU,cAAa,UAC3B,kBACEA,UAAWpB,EAAQC,UACnBoB,YAAU,EACVC,aAAa,MACbC,SA3BgBC,IACpBA,EAAEC,iBAIF,IAFYC,EAAAA,EAAAA,GAAOZ,GAGjB,OAAO,SAAC,KAAQ,CAACK,GAAK,mBAGxBJ,EAAS,CACPE,KAAM,GACNC,SAAU,IACV,EAgBES,MAAO,CAAEC,SAAU,QAASrB,OAAQ,QAAS,WAE7C,SAAC,IAAU,CAACsB,QAAQ,KAAKT,UAAYpB,EAAQG,UAAW,SAAC,aACzD,SAAC,IAAS,CACRiB,UAAWpB,EAAQE,QACnB4B,GAAG,OACHC,MAAM,WACNF,QAAQ,WACRG,WAAS,EACTC,MAAOnB,EAAMG,KACbiB,SAAWV,GAAMT,EAAS,IAAKD,EAAOG,KAAMO,EAAEW,OAAOF,QACrDN,MAAO,CAAEd,UAAW,OAAQuB,aAAc,WAE5C,SAAC,IAAS,CACRhB,UAAWpB,EAAQE,QACnB4B,GAAG,WACHC,MAAM,WACNM,KAAK,WACLR,QAAQ,WACRG,WAAS,EACTC,MAAOnB,EAAMI,SACbgB,SAAWV,GAAMT,EAAS,IAAKD,EAAOI,SAAUM,EAAEW,OAAOF,QACzDN,MAAO,CAAEd,UAAW,OAAQuB,aAAc,WAE5C,SAAC,IAAM,CACLhB,UAAWpB,EAAQE,QACnB2B,QAAQ,YACRjB,MAAM,UACNyB,KAAK,SAAQ,SACd,gBAIE,C,+GCrGJ,MAAMC,EAASC,UACpB,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,KAAY,GAAE/C,EAAAA,WAAcgD,GAInD,OAHA7C,aAAa8C,QAAQ,QAASH,EAASI,KAAKC,OAC5ChD,aAAa8C,QAAQ,OAAQD,EAAKzB,MAClCpB,aAAa8C,QAAQ,SAAUH,EAASI,KAAKE,QACtC,CAKT,CAJE,MAAOC,GAAQ,IAAD,EACdC,EAAAA,GAAAA,MAA0B,QAAf,EAACD,EAAMP,gBAAQ,aAAd,EAAgBI,KAAM,CAChCK,SAAUD,EAAAA,GAAAA,SAAAA,cAEd,GAGWtB,EAASa,UACpB,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,KAAY,GAAE/C,EAAAA,WAAcgD,GAInD,OAHA7C,aAAa8C,QAAQ,QAASH,EAASI,KAAKC,OAC5ChD,aAAa8C,QAAQ,OAAQD,EAAKzB,WAClCpB,aAAa8C,QAAQ,SAAUH,EAASI,KAAKE,MAM/C,CAJE,MAAOC,GAAQ,IAAD,EACdC,EAAAA,GAAAA,MAA0B,QAAf,EAACD,EAAMP,gBAAQ,aAAd,EAAgBI,KAAM,CAChCK,SAAUD,EAAAA,GAAAA,SAAAA,cAEd,E","sources":["api/index.js","components/auth/SignIn.jsx","hooks/authHooks.js"],"sourcesContent":["// export const url = \"http://127.0.0.1:5000/api\";\r\nexport const url = \"https://sieve.servebeer.com/api\";\r\n\r\nexport const setHeaders = () => {\r\n  const header = {\r\n    headers: {\r\n      \"x-auth-token\": localStorage.getItem(\"token\"),\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept\"\r\n    },\r\n  };\r\n\r\n  return header;\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nimport { signIn } from '../../hooks/authHooks';\r\n\r\nimport {\r\n  Typography,\r\n  TextField,\r\n  Button\r\n} from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\n\r\nconst PREFIX = \"Login\";\r\nconst classes = {\r\n  formStyle: `${PREFIX}-formStyle`,\r\n  spacing: `${PREFIX}-spacing`,\r\n  formTitle: `${PREFIX}-formTitle`,\r\n};\r\n\r\nconst Root = styled(\"div\")(({ theme }) => ({\r\n  [`&.${classes.formStyle}`]: {\r\n    margin: \"0px auto\",\r\n    padding: \"30px\",\r\n    borderRadius: \"9px\",\r\n    boxShadow: \"0px 0px 12px -3px #000\",\r\n    backgroundColor: \"#c6c6c6\",\r\n    color: \"#000\",\r\n  },\r\n  [`&.${classes.spacing}`]: {\r\n    marginTop: \"20px\",\r\n  },\r\n  [`&.${classes.formTitle}`]: {\r\n    color: \"#000\",\r\n  },\r\n}));\r\n\r\n\r\nconst SignIn = () => {\r\n  const [creds, setCreds] = useState({\r\n    name: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const res = signIn(creds);\r\n\r\n    if (res) {\r\n      return <Navigate to = \"/cms/dashboard\" />\r\n    }\r\n\r\n    setCreds({\r\n      name: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  if (token) {\r\n    return <Navigate to=\"/cms/dashboard\" />;\r\n  }\r\n\r\n  return (\r\n    <Root className=\"formContent\">\r\n      <form\r\n        className={classes.formStyle}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit}\r\n        style={{ maxWidth: \"600px\", margin: \"auto\" }}\r\n      >\r\n        <Typography variant=\"h5\" className={ classes.formTitle }>Sign in</Typography>\r\n        <TextField\r\n          className={classes.spacing}\r\n          id=\"name\"\r\n          label=\"Nickname\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={creds.name}\r\n          onChange={(e) => setCreds({ ...creds, name: e.target.value })}\r\n          style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\r\n        />\r\n        <TextField\r\n          className={classes.spacing}\r\n          id=\"password\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          value={creds.password}\r\n          onChange={(e) => setCreds({ ...creds, password: e.target.value })}\r\n          style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\r\n        />\r\n        <Button\r\n          className={classes.spacing}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          Sign In\r\n        </Button>\r\n      </form>\r\n    </Root>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n\r\n","import axios from \"axios\";\r\nimport { toast } from 'react-toastify';\r\nimport { url } from \"../api/index\";\r\n\r\nexport const signUp = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${url}/signup`, user);\r\n    localStorage.setItem(\"token\", response.data.token);\r\n    localStorage.setItem(\"user\", user.name);\r\n    localStorage.setItem(\"avatar\", response.data.image);\r\n    return true;\r\n  } catch (error) {\r\n    toast.error(error.response?.data, {\r\n      position: toast.POSITION.BOTTOM_RIGHT,\r\n    });\r\n  }\r\n};\r\n\r\nexport const signIn = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${url}/signin`, user);\r\n    localStorage.setItem(\"token\", response.data.token);\r\n    localStorage.setItem(\"user\", user.name);\r\n    localStorage.setItem(\"avatar\", response.data.image);\r\n    return;\r\n  } catch (error) {\r\n    toast.error(error.response?.data, {\r\n      position: toast.POSITION.BOTTOM_RIGHT,\r\n    });\r\n  }\r\n};\r\n"],"names":["url","setHeaders","headers","localStorage","getItem","PREFIX","classes","formStyle","spacing","formTitle","Root","styled","theme","margin","padding","borderRadius","boxShadow","backgroundColor","color","marginTop","creds","setCreds","useState","name","password","to","className","noValidate","autoComplete","onSubmit","e","preventDefault","signIn","style","maxWidth","variant","id","label","fullWidth","value","onChange","target","marginBottom","type","signUp","async","response","axios","user","setItem","data","token","image","error","toast","position"],"sourceRoot":""}