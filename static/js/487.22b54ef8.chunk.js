"use strict";(self.webpackChunksieve_frontend=self.webpackChunksieve_frontend||[]).push([[487],{9396:function(e,t,o){o.d(t,{F:function(){return r},H:function(){return a}});const a="https://sieve.servebeer.com/api",r=()=>({headers:{"x-auth-token":localStorage.getItem("token"),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}})},3487:function(e,t,o){o.r(t),o.d(t,{default:function(){return B}});var a=o(2791),r=o(1615),i=o(4518),n=o(148),d=o(7630),l=o(3263),s=o(5985),c=o(9396);const u=async(e,t)=>{try{return(await l.Z.put(`${c.H}/medias/${t}`,e,(0,c.F)()).then((()=>{s.Am.success("Media updated successfully",{position:s.Am.POSITION.BOTTOM_RIGHT})}))).data}catch(a){var o;s.Am.error(null===(o=a.response)||void 0===o?void 0:o.data,{position:s.Am.POSITION.BOTTOM_RIGHT})}};var p=o(184);const m="DashboardAddMedia",h={formStyle:`${m}-formStyle`,submitButton:`${m}-submitButton`,imageUpload:`${m}-imageUpload`},v=(0,d.ZP)("form")((e=>{let{theme:t}=e;return{[`&.${h.formStyle}`]:{maxWidth:"70vw",margin:"0px auto",padding:"30px",borderRadius:"9px",boxShadow:"0px 0px 12px -3px #000",display:"flex",justifyContent:"space-between",backgroundColor:"#fff"},[`&.${h.submitButton}`]:{marginLeft:"20px"},[`&.${h.imageUpload}`]:{color:"#4d3f5a",padding:"10px",margin:"10px"}}}));var g=e=>{let{media:t,setMedia:o}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(v,{noValidate:!0,autoComplete:"off",className:h.formStyle,encType:"multipart/form-data",onSubmit:e=>{if(e.preventDefault(),t._id){const e=t._id,o={altText:t.altText,date:t.date,author:"Riccardo"};u(o,e)}else{(e=>new Promise(((t,o)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>o(e)})))(t.image).then((e=>{(async e=>{try{await l.Z.post(`${c.H}/medias`,e,(0,c.F)()).then((()=>{s.Am.success("Media added successfully",{position:s.Am.POSITION.BOTTOM_RIGHT})}))}catch(o){var t;s.Am.error(null===(t=o.response)||void 0===t?void 0:t.data,{position:s.Am.POSITION.BOTTOM_RIGHT})}})({...t,image:e,author:"Riccardo",date:new Date})}))}o({alt:"",author:"Riccardo"})},style:{marginBottom:"30px"},children:[(0,p.jsx)(r.Z,{id:"media-alt","aria-label":"minimum height",minRows:1,label:"Media alt",variant:"outlined",fullWidth:!0,value:t.alt,onChange:e=>o({...t,altText:e.target.value})}),(0,p.jsx)("input",{type:"file",id:"uploading",name:"uploading",accept:"image/webp",className:h.imageUpload,onChange:e=>o({...t,image:e.target.files[0]}),style:{margin:"0.2em",padding:"0.2em"}}),(0,p.jsx)(i.Z,{className:h.submitButton,color:"primary",variant:"contained",type:"submit",style:{borderRadius:"18px"},children:(0,p.jsx)(n.Z,{})})]})})},b=o(890),x=o(2199),f=o(5667),y=o(754),Z=o(5397),R=o(2426),T=o.n(R);const $="DashboardMedia",S={mediaStyles:`${$}-mediaStyles`,greyStyle:`${$}-greyStyle`,isComplete:`${$}-isComplete`,checked:`${$}-checked`},C=(0,d.ZP)("div")((e=>{let{theme:t}=e;return{[`&.${S.mediaStyles}`]:{margin:"20px auto",padding:"20px",border:"2px solid #bdbdbd",borderRadius:"9px",display:"flex",justifyContent:"space-between",textAlign:"left",color:"#000"},[`&.${S.greyStyle}`]:{color:"#010!important"},[`&.${S.isComplete}`]:{color:"green"},[`&.${S.checked}`]:{textDecoration:"line-through"}}}));var j=e=>{let{media:t,setMedia:o}=e;const a=e=>{(async e=>{try{await l.Z.delete(`${c.H}/medias/${e}`,(0,c.F)()).then((()=>{s.Am.success("Media deleted successfully",{position:s.Am.POSITION.BOTTOM_RIGHT})}))}catch(o){var t;s.Am.error(null===(t=o.response)||void 0===t?void 0:t.data,{position:s.Am.POSITION.BOTTOM_RIGHT})}})(e)};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(C,{className:S.mediaStyles,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(b.Z,{variant:"h4",children:t.image}),(0,p.jsxs)(b.Z,{variant:"body2",className:S.greyStyle,children:["Text: ",t.altText]}),(0,p.jsxs)(b.Z,{variant:"body2",className:S.greyStyle,children:["Added: ",T()(t.date).fromNow()]})]}),(0,p.jsx)("div",{children:(0,p.jsxs)(x.Z,{size:"small","aria-label":"outlined primary button group",children:[(0,p.jsx)(i.Z,{onClick:()=>{return e=t._id,void u(e);var e},children:(0,p.jsx)(f.Z,{color:"action"})}),(0,p.jsx)(i.Z,{onClick:()=>(o(t),void window.scrollTo({top:0,left:0,behavior:"smooth"})),children:(0,p.jsx)(y.Z,{color:"primary"})}),(0,p.jsx)(i.Z,{onClick:()=>a(t._id),children:(0,p.jsx)(Z.Z,{color:"secondary"})})]})})]})})};const O={mediaStyle:"DashboardListMedias-mediaStyle"},M=(0,d.ZP)("div")((e=>{let{theme:t}=e;return{[`&.${O.mediaStyle}`]:{margin:"20px auto",padding:"20px",borderRadius:"9px",boxShadow:"0px 0px 12px -3px #000",backgroundColor:"#fff",color:"#000",marginTop:"0.2em"}}}));var w=e=>{let{setMedia:t}=e;const[o,r]=(0,a.useState)();var i=0;return(0,a.useEffect)((()=>{(async()=>{try{return(await l.Z.get(`${c.H}/medias`)).data}catch(t){var e;s.Am.error(null===(e=t.response)||void 0===e?void 0:e.data,{position:s.Am.POSITION.BOTTOM_RIGHT})}})().then((e=>{r(e)}))}),[]),i=o?o.length:0,(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(M,{className:O.mediaStyle,children:[(0,p.jsx)(b.Z,{variant:"h3",children:i>0?"My medias":"No media yet"}),o&&o.map((e=>(0,p.jsx)(j,{media:e,setMedia:t},e._id)))]})})};var B=()=>{const[e,t]=(0,a.useState)({altText:""});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{media:e,setMedia:t}),(0,p.jsx)(w,{media:e,setMedia:t})]})}},5667:function(e,t,o){var a=o(9201),r=o(184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle")},754:function(e,t,o){var a=o(9201),r=o(184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create")},5397:function(e,t,o){var a=o(9201),r=o(184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},148:function(e,t,o){var a=o(9201),r=o(184);t.Z=(0,a.Z)((0,r.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},2199:function(e,t,o){o.d(t,{Z:function(){return y}});var a=o(3366),r=o(7462),i=o(2791),n=o(8182),d=o(4419),l=o(2065),s=o(4036),c=o(7630),u=o(3736),p=o(5878),m=o(1217);function h(e){return(0,m.Z)("MuiButtonGroup",e)}var v=(0,p.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),g=o(1793),b=o(184);const x=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],f=(0,c.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${v.grouped}`]:t.grouped},{[`& .${v.grouped}`]:t[`grouped${(0,s.Z)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.Z)(o.variant)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.Z)(o.variant)}${(0,s.Z)(o.orientation)}`]},{[`& .${v.grouped}`]:t[`grouped${(0,s.Z)(o.variant)}${(0,s.Z)(o.color)}`]},t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]}})((e=>{let{theme:t,ownerState:o}=e;return(0,r.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},{[`& .${v.grouped}`]:(0,r.Z)({minWidth:40,"&:not(:first-of-type)":(0,r.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,r.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===o.variant&&"inherit"!==o.color&&{borderColor:t.vars?`rgba(${t.vars.palette[o.color].mainChannel} / 0.5)`:(0,l.Fq)(t.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${v.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},"contained"===o.variant&&"vertical"===o.orientation&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${v.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},"contained"===o.variant&&"inherit"!==o.color&&{borderColor:(t.vars||t).palette[o.color].dark},{"&:hover":(0,r.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,r.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"})})}));var y=i.forwardRef((function(e,t){const o=(0,u.Z)({props:e,name:"MuiButtonGroup"}),{children:l,className:c,color:p="primary",component:m="div",disabled:v=!1,disableElevation:y=!1,disableFocusRipple:Z=!1,disableRipple:R=!1,fullWidth:T=!1,orientation:$="horizontal",size:S="medium",variant:C="outlined"}=o,j=(0,a.Z)(o,x),O=(0,r.Z)({},o,{color:p,component:m,disabled:v,disableElevation:y,disableFocusRipple:Z,disableRipple:R,fullWidth:T,orientation:$,size:S,variant:C}),M=(e=>{const{classes:t,color:o,disabled:a,disableElevation:r,fullWidth:i,orientation:n,variant:l}=e,c={root:["root",l,"vertical"===n&&"vertical",i&&"fullWidth",r&&"disableElevation"],grouped:["grouped",`grouped${(0,s.Z)(n)}`,`grouped${(0,s.Z)(l)}`,`grouped${(0,s.Z)(l)}${(0,s.Z)(n)}`,`grouped${(0,s.Z)(l)}${(0,s.Z)(o)}`,a&&"disabled"]};return(0,d.Z)(c,h,t)})(O),w=i.useMemo((()=>({className:M.grouped,color:p,disabled:v,disableElevation:y,disableFocusRipple:Z,disableRipple:R,fullWidth:T,size:S,variant:C})),[p,v,y,Z,R,T,S,C,M.grouped]);return(0,b.jsx)(f,(0,r.Z)({as:m,role:"group",className:(0,n.Z)(M.root,c),ref:t,ownerState:O},j,{children:(0,b.jsx)(g.Z.Provider,{value:w,children:l})}))}))}}]);
//# sourceMappingURL=487.22b54ef8.chunk.js.map